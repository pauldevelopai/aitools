{# Partial template for Drive file browser results (server-side rendered fallback).
   Primary rendering is done client-side via JSON in google_drive.html. #}

{% if files %}
{% for f in files %}
{% if f.mimeType == 'application/vnd.google-apps.folder' %}
<div class="flex items-center px-4 py-3 cursor-pointer hover:bg-gray-50"
     onclick="browseTo('{{ f.id }}', '{{ f.name }}')">
    <svg class="h-5 w-5 text-yellow-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
        <path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"/>
    </svg>
    <span class="text-sm text-gray-900">{{ f.name }}</span>
</div>
{% else %}
<div class="flex items-center px-4 py-3 hover:bg-gray-50">
    <input type="checkbox" class="file-checkbox mr-3 h-4 w-4 text-blue-600 rounded border-gray-300"
           data-file-id="{{ f.id }}" data-file-name="{{ f.name }}" data-mime-type="{{ f.mimeType }}"
           onchange="toggleFile(this)">
    <svg class="h-5 w-5 text-blue-500 mr-3" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z" clip-rule="evenodd"/>
    </svg>
    <span class="text-sm text-gray-900 flex-1">{{ f.name }}</span>
    <span class="text-xs text-gray-400">{{ f.mimeType | replace('application/vnd.google-apps.', '') }}</span>
</div>
{% endif %}
{% endfor %}
{% else %}
<div class="p-8 text-center text-gray-400">
    <p>No files in this folder.</p>
</div>
{% endif %}
